{"version":3,"sources":["components/NavBar.js","components/Screens/Home.js","components/Screens/SignIn.js","components/Screens/Profile.js","components/Screens/Signup.js","components/Screens/CreatePost.js","reducer/userReducer.js","components/Screens/UserProfile.js","components/Screens/SubscribeUserPosts.js","App.js","reportWebVitals.js","index.js"],"names":["NavBar","useContext","UserContext","state","dispatch","history","useHistory","className","to","id","onClick","localStorage","clear","type","push","Home","useState","data","setData","useEffect","fetch","headers","getItem","then","res","json","result","posts","console","log","map","item","style","float","margin","marginRight","width","heigth","borderRadius","src","postedBy","pic","alt","_id","padding","name","postid","method","Authorization","newData","filter","photo","title","color","likes","includes","body","JSON","stringify","postId","catch","err","length","comments","record","fontWeight","text","onSubmit","e","preventDefault","target","value","placeholder","SignIn","email","setEmail","password","setPassword","onChange","required","test","error","M","toast","html","classes","setItem","token","user","payload","Profile","mypics","setPics","image","setImage","mypost","FormData","append","url","maxWidth","borderBottom","display","justifyContent","followers","following","file","files","Signup","setName","undefined","setUrl","uploadFields","message","PostData","uploadPic","CreatePost","setTitle","setBody","textAlign","postDetailes","reducer","action","userProfile","setProfile","userid","useParams","showfollow","setShowFollow","followId","prevState","unfollowId","newFollower","SubscribeUserPosts","createContext","Routing","parse","exact","path","UserProfile","App","useReducer","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0f8d0840.chunk.js","sourcesContent":["import React, { useContext } from 'react'\r\nimport { Link,useHistory } from 'react-router-dom'\r\nimport { UserContext } from '../App'\r\n\r\nconst NavBar = () => {\r\n\r\n  const { state, dispatch } = useContext(UserContext)\r\n  const history= useHistory()\r\n  const renderList = () => {\r\n    if (state) {\r\n      return [\r\n        <li><Link to=\"/profile\">Profile</Link></li>,\r\n        <li><Link to=\"/create\">Create Post</Link></li>,\r\n        <li><Link to=\"/myfollowingpost\">My following Posts</Link></li>,\r\n        <li>\r\n\r\n          <button className=\"btn #c62828 red darken-3\"\r\n            onClick={() =>{\r\n              localStorage.clear()\r\n              dispatch({type:\"CLEAR\"})\r\n              history.push(\"/singin\")\r\n            }}\r\n          >\r\n            Logout \r\n                 </button>\r\n        </li>\r\n      ]\r\n    } else {\r\n      return [\r\n        <li><Link to=\"/signin\">Signin</Link></li>,\r\n        <li><Link to=\"/signup\">Signup</Link></li>\r\n\r\n      ]\r\n    }\r\n  }\r\n\r\n  return (\r\n\r\n    <nav>\r\n      <div className=\"nav-wrapper white\">\r\n        <Link to={state ? \"/\" : \"/signin\"} className=\"brand-logo left\">Instagram</Link>\r\n        <ul id=\"nav-mobile\" className=\"right\">\r\n          {renderList()}\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\nexport default NavBar","import React, { useState, useEffect, useContext } from 'react'\r\nimport { UserContext } from '../../App'\r\nimport { Link } from 'react-router-dom'\r\nconst Home = () => {\r\n\r\n    const [data, setData] = useState([])\r\n    const { state, dispatch } = useContext(UserContext)\r\n    useEffect(() => {\r\n        fetch('/allpost', {\r\n            headers: {\r\n                \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res => res.json())\r\n            .then(result => {\r\n                setData(result.posts)\r\n                console.log(result)\r\n            })\r\n\r\n    }, [])\r\n    const likePost = (id) => {\r\n        fetch('/like', {\r\n            method: \"put\",\r\n            headers: {\r\n                \"Content-type\": \"application/json\",\r\n                \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                postId: id\r\n            })\r\n        }).then(res => res.json())\r\n            .then(result => {\r\n                const newData = data.map(item => {\r\n                    if (item._id == result._id) {\r\n                        return result\r\n                    } else {\r\n                        return item\r\n                    }\r\n                })\r\n                setData(newData)\r\n            }).catch(err => console.log(err))\r\n    }\r\n\r\n    const unlikePost = (id) => {\r\n        fetch('/unlike', {\r\n            method: \"put\",\r\n            headers: {\r\n                \"Content-type\": \"application/json\",\r\n                \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                postId: id\r\n            })\r\n        }).then(res => res.json())\r\n            .then(result => {\r\n                const newData = data.map(item => {\r\n                    if (item._id == result._id) {\r\n                        return result\r\n                    } else {\r\n                        return item\r\n                    }\r\n                })\r\n                setData(newData)\r\n            }).catch(err => console.log(err))\r\n    }\r\n    const makeComment = (text, postId) => {\r\n        fetch('/comment', {\r\n            method: \"put\",\r\n            headers: {\r\n                \"Content-type\": \"application/json\",\r\n                \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify(\r\n                {\r\n                    postId,\r\n                    text\r\n                }\r\n            )\r\n        }).then(res => res.json())\r\n            .then(result => {\r\n                const newData = data.map(item => {\r\n                    if (item._id == result._id) {\r\n                        return result\r\n                    } else {\r\n                        return item\r\n                    }\r\n                })\r\n                setData(newData)\r\n            }).catch(err => console.log(err))\r\n    }\r\n    const deletePost = (postid) => {\r\n        fetch(`/deletepost/${postid}`, {\r\n            method: \"delete\",\r\n            headers: {\r\n                Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res => res.json())\r\n            .then(result => {\r\n                const newData = data.filter(item => {\r\n                    return item._id !== result._id\r\n                })\r\n                setData(newData)\r\n            })\r\n    }\r\n\r\n    return (\r\n\r\n        <div className=\"home\">\r\n            {\r\n\r\n                data.map((item) => (\r\n                    <div className=\"card home-card\">\r\n                        <div>\r\n                            <div style={{ float: \"left\", margin: \"10px\", marginRight: \"20px\" }}>\r\n                                <img style={{ width: \"35px\", heigth: \"35px\", borderRadius: \"80px\" }}\r\n                                    src={item.postedBy.pic}\r\n                                    alt={item.postedBy._id}\r\n                                />\r\n                            </div>\r\n                            <div style={{ margin: \"20px\" }}>\r\n                                <h5 style={{ padding: \"5px\" }}><Link to={item.postedBy._id !== state._id ? \"/profile/\" + item.postedBy._id : \"/profile/\"}>{item.postedBy.name}</Link> {item.postedBy._id == state._id &&\r\n                                    <i className=\"material-icons\" style={{ float: \"right\" }}\r\n                                        onClick={() => { deletePost(item._id) }}\r\n                                    >delete</i>\r\n                                }</h5>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"card-image\">\r\n                            <img src={item.photo} alt={item.title} />\r\n                        </div>\r\n                        <div className=\"card-content\">\r\n                            <i className=\"material-icons\" style={{ color: \"red\" }}>favorite</i>\r\n                            {item.likes.includes(state._id)\r\n                                ? <i className=\"material-icons\"\r\n                                    onClick={() => { unlikePost(item._id) }}\r\n                                >thumb_down</i> :\r\n                                <i className=\"material-icons\"\r\n                                    onClick={() => { likePost(item._id) }}\r\n                                >thumb_up</i>\r\n\r\n                            }\r\n\r\n                            <h6>{item.likes.length} likes</h6>\r\n                            <h6>{item.title}</h6>\r\n                            <p>{item.body}</p>\r\n                            {\r\n                                item.comments.map(record => {\r\n                                    return (\r\n                                        <div>\r\n                                            <div style={{ float: \"left\", marginRight:\"5px\"}}>\r\n                                                <img style={{ width: \"15px\", heigth: \"15px\", borderRadius: \"80px\" }}\r\n                                                    src={record.postedBy.pic}\r\n                                                    alt={record.postedBy._id}\r\n                                                />\r\n                                            </div>\r\n                                            <div>\r\n                                                <h6 key={record._id}><span style={{ fontWeight: \"500\" }}>{record.postedBy.name}</span> {record.text}</h6>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                    )\r\n                                })\r\n                            }\r\n                            <form onSubmit={(e) => {\r\n                                e.preventDefault()\r\n                                makeComment(e.target[0].value, item._id)\r\n                            }}>\r\n                                <input type=\"text\" placeholder=\"add a comment\" />\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n\r\n                ))\r\n            }\r\n        </div>\r\n    )\r\n}\r\nexport default Home","import React, {useState,useContext} from 'react'\r\nimport {Link,useHistory} from 'react-router-dom'\r\nimport M from 'materialize-css'\r\nimport {UserContext} from '../../App'\r\n\r\n\r\nconst SignIn = () => {\r\n    const {state,dispatch} =useContext(UserContext)\r\n     const history = useHistory()\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n\r\n    const PostData = () => {\r\n        if (!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)) {\r\n            M.toast({ html: \"Invalid Email\", classes: \"#c62828 red darken-3\" })\r\n            return\r\n        }\r\n        fetch(\"/signin\", {\r\n            method: \"post\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({\r\n                password,\r\n                email,\r\n            })\r\n        }).then(res => res.json())\r\n            .then(data => {\r\n                if (data.error) {\r\n                    M.toast({ html: data.error, classes: \"#c62828 red darken-3\" })\r\n                }\r\n                else {\r\n                    localStorage.setItem(\"jwt\",data.token)\r\n                    localStorage.setItem(\"user\",JSON.stringify(data.user))\r\n                    \r\n                    dispatch({type:\"USER\",payload:data.user})\r\n\r\n                    M.toast({ html: \"SignedIn Successfully\", classes: \"#43a047 green darken-1\" })\r\n                    history.push('/')\r\n                }\r\n            }).catch(err=>console.log(err))\r\n    }\r\n\r\n    return (\r\n        <div className=\"mycard\">\r\n            <div className=\"card auth-card input-field\">\r\n                <h2>Instagram</h2>\r\n                <input type=\"text\" placeholder=\"email\" value={email} onChange={(e) => { setEmail(e.target.value) }} required />\r\n                <input\r\n                    type=\"password\"\r\n                    placeholder=\"password\"\r\n                    value={password}\r\n                    onChange={(e) => { setPassword(e.target.value) }}\r\n                    required\r\n                />\r\n                <button className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\r\n                onClick={()=>PostData()}\r\n                >\r\n                    Loginn\r\n                 </button>\r\n                 <h5>\r\n                     <Link to=\"/signup\">Dont have an account ?</Link>\r\n                 </h5>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default SignIn","import React, { useEffect, useState, useContext } from 'react'\r\nimport { UserContext } from '../../App'\r\n\r\nconst Profile = () => {\r\n    const [mypics, setPics] = useState([])\r\n    const { state, dispatch } = useContext(UserContext)\r\n    const [image, setImage] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        fetch('/mypost', {\r\n            headers: {\r\n                \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res => res.json())\r\n            .then(result => {\r\n                setPics(result.mypost)\r\n            })\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (image) {\r\n            const data = new FormData\r\n            data.append(\"file\", image)\r\n            data.append(\"upload_preset\", \"insta-clone\")\r\n            data.append(\"cloud_name\", \"instagramclone08\")\r\n            fetch(\"https://api.cloudinary.com/v1_1/instagramclone08/image/upload\", {\r\n                method: \"post\",\r\n                body: data\r\n            }).then((res => res.json()))\r\n                .then(data => {\r\n                    fetch('/updatepic',{\r\n                        method:\"put\",\r\n                        headers:{\r\n                            \"Content-Type\":\"application/json\",\r\n                            \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n                        },\r\n                        body:JSON.stringify({\r\n                            pic:data.url\r\n                        })\r\n                    }).then(res=>res.json())\r\n                    .then((result)=>{\r\n                        localStorage.setItem(\"user\",JSON.stringify({...state,pic:result.pic}))\r\n                        dispatch({type:\"UPDATEPIC\",payload:result.pic})\r\n\r\n                    })\r\n                }).catch(err => { console.log(err) }) \r\n        }\r\n    }, [image])\r\n\r\n    const updatePhoto = (file) => {\r\n        setImage(file)\r\n    }\r\n\r\n    return (\r\n\r\n        <div style={{ maxWidth: \"600px\", margin: \"0px auto\" }}>\r\n            <div style={{\r\n\r\n                margin: \"18px 0px\",\r\n                borderBottom: \"1px solid grey\"\r\n            }}>\r\n\r\n\r\n                <div style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"space-around\",\r\n\r\n                }}>\r\n                    <div>\r\n                        <img style={{ width: \"160px\", heigth: \"160px\", borderRadius: \"80px\" }}\r\n                            src={state ? state.pic : \"loading\"}\r\n                        />\r\n\r\n                    </div>\r\n                    <div>\r\n                        <h4>{state ? state.name : \"Loading\"}</h4>\r\n                        <h5>{state ? state.email : \"Loading\"}</h5 >\r\n                        <div style={{ display: \"flex\", justifyContent: \"space-between\", width: \"108%\" }}>\r\n                            <h6>{state ? mypics.length : \"0\"} posts</h6>\r\n                            <h6>{state ? state.followers.length : \"0\"} follows</h6>\r\n                            <h6>{state ? state.following.length : \"0\"} following</h6>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"file-field input-field\" style={{ margin: \"10px\" }}>\r\n                    <div className=\"btn #64b5f6 blue darken-1\">\r\n                        <span>Update pic</span>\r\n                        <input type=\"file\" onChange={(e) => { updatePhoto(e.target.files[0]) }} />\r\n                    </div>\r\n                    <div className=\"file-path-wrapper\">\r\n                        <input className=\"file-path validate\" type=\"text\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"gallery\">\r\n\r\n                {\r\n                    mypics.map(item => {\r\n                        return (\r\n                            <img key={item._id} className=\"item\" src={item.photo} alt={item.title} />\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Profile","import React, { useState ,useEffect} from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport M from 'materialize-css'\r\n\r\nconst Signup = () => {\r\n    const history = useHistory()\r\n    const [name, setName] = useState(\"\")\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const [image, setImage] = useState(\"\")\r\n    const [url, setUrl] = useState(undefined)\r\n\r\n    useEffect(() => {\r\n        if (url) {\r\n            uploadFields()\r\n        }\r\n    }, [url])\r\n\r\n    const uploadPic = () => {\r\n\r\n        const data = new FormData\r\n        data.append(\"file\", image)\r\n        data.append(\"upload_preset\", \"insta-clone\")\r\n        data.append(\"cloud_name\", \"instagramclone08\")\r\n        fetch(\"https://api.cloudinary.com/v1_1/instagramclone08/image/upload\", {\r\n            method: \"post\",\r\n            body: data\r\n        }).then((res => res.json()))\r\n            .then(data => {\r\n                setUrl(data.url)\r\n            }).catch(err => { console.log(err) })\r\n    }\r\n    const uploadFields = () => {\r\n        if (!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)) {\r\n            M.toast({ html: \"Invalid Email\", classes: \"#c62828 red darken-3\" })\r\n            return\r\n        }\r\n        fetch(\"/signup\", {\r\n            method: \"post\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({\r\n                name,\r\n                password,\r\n                email,\r\n                pic:url\r\n            })\r\n        }).then(res => res.json())\r\n            .then(data => {\r\n                if (data.error) {\r\n                    M.toast({ html: data.error, classes: \"#c62828 red darken-3\" })\r\n                }\r\n                else {\r\n                    M.toast({ html: data.message, classes: \"#43a047 green darken-1\" })\r\n                    history.push('/signin')\r\n                }\r\n            }).catch(err => console.log(err))\r\n    }\r\n    const PostData = () => {\r\n        if (image) {\r\n            uploadPic()\r\n        } else {\r\n            uploadFields()\r\n        }\r\n\r\n\r\n    }\r\n    return (\r\n        <div className=\"mycard\">\r\n            <div className=\"card auth-card input-field\">\r\n                <h2>Instagram</h2>\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"name\"\r\n                    value={name}\r\n                    onChange={(e) => { setName(e.target.value) }}\r\n                    required\r\n                />\r\n                <input type=\"text\" placeholder=\"email\" value={email} onChange={(e) => { setEmail(e.target.value) }} required />\r\n                <input\r\n                    type=\"password\"\r\n                    placeholder=\"password\"\r\n                    value={password}\r\n                    onChange={(e) => { setPassword(e.target.value) }}\r\n                    required\r\n                />\r\n                <div className=\"file-field input-field\">\r\n                    <div className=\"btn #64b5f6 blue darken-1\">\r\n                        <span>Upload pic</span>\r\n                        <input type=\"file\" onChange={(e) => { setImage(e.target.files[0]) }} />\r\n                    </div>\r\n                    <div className=\"file-path-wrapper\">\r\n                        <input className=\"file-path validate\" type=\"text\" />\r\n                    </div>\r\n                </div>\r\n                <button className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\r\n                    onClick={() => PostData()}\r\n                >\r\n                    Signup\r\n                 </button>\r\n                <h5>\r\n                    <Link to=\"/signin\">Already have an account ?</Link>\r\n                </h5>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default Signup","import React, { useState, useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport M from 'materialize-css'\r\n\r\nconst CreatePost = () => {\r\n    const history = useHistory()\r\n    const [title, setTitle] = useState(\"\")\r\n    const [body, setBody] = useState(\"\")\r\n    const [image, setImage] = useState(\"\")\r\n    const [url, setUrl] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        if (url) {\r\n            fetch(\"/createpost\", {\r\n                method: \"post\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n                },\r\n                body: JSON.stringify({\r\n                    title,\r\n                    body,\r\n                    pic: url\r\n                })\r\n            }).then(res => res.json())\r\n                .then(data => {\r\n                    if (data.error) {\r\n                        M.toast({ html: data.error, classes: \"#c62828 red darken-3\" })\r\n                    }\r\n                    else {\r\n                        M.toast({ html: \"Posted Successfully\", classes: \"#43a047 green darken-1\" })\r\n                        history.push('/')\r\n                    }\r\n                }).catch(err => console.log(err))\r\n\r\n        }\r\n    }, [url])\r\n\r\n    const postDetailes = () => {\r\n        const data = new FormData\r\n        data.append(\"file\", image)\r\n        data.append(\"upload_preset\", \"insta-clone\")\r\n        data.append(\"cloud_name\", \"instagramclone08\")\r\n        fetch(\"https://api.cloudinary.com/v1_1/instagramclone08/image/upload\", {\r\n            method: \"post\",\r\n            body: data\r\n        }).then((res => res.json()))\r\n            .then(data => {\r\n                setUrl(data.url)\r\n            }).catch(err => { console.log(err) })\r\n    }\r\n\r\n    return (\r\n        <div className=\"card input-filed\"\r\n            style={{\r\n                margin: \"30px auto\",\r\n                maxWidth: \"500px\",\r\n                padding: \"20px\",\r\n                textAlign: \"center\"\r\n            }}\r\n        >\r\n            <input type=\"text\"\r\n                placeholder=\"title\"\r\n                value={title}\r\n                onChange={(e) => { setTitle(e.target.value) }}\r\n            />\r\n            <input type=\"text\"\r\n                placeholder=\"body\"\r\n                value={body}\r\n                onChange={(e) => { setBody(e.target.value) }}\r\n            />\r\n            <div className=\"file-field input-field\">\r\n                <div className=\"btn #64b5f6 blue darken-1\">\r\n                    <span>Upload Image</span>\r\n                    <input type=\"file\" onChange={(e) => { setImage(e.target.files[0]) }} />\r\n                </div>\r\n                <div className=\"file-path-wrapper\">\r\n                    <input className=\"file-path validate\" type=\"text\" />\r\n                </div>\r\n            </div>\r\n            <button className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\r\n                onClick={() => postDetailes()}\r\n            >\r\n                Submit post\r\n                 </button>\r\n        </div>\r\n    )\r\n}\r\nexport default CreatePost","export const initialState = null\r\nexport const reducer = (state, action)=>{\r\n    if(action.type==\"USER\"){\r\n        return action.payload\r\n    }\r\n    if(action.type==\"CLEAR\"){\r\n        return null\r\n    }\r\n    if(action.type==\"UPDATE\"){\r\n        return {\r\n            ...state,\r\n            followers:action.payload.followers,\r\n            following:action.payload.following\r\n        }\r\n    }\r\n    if(action.type==\"UPDATEPIC\"){\r\n        return {\r\n            ...state,\r\n            pic:action.payload\r\n        }\r\n    }\r\n    return state\r\n}","import React, { useEffect, useState, useContext } from 'react'\r\nimport { UserContext } from '../../App'\r\nimport { useParams } from 'react-router-dom'\r\n\r\nconst Profile = () => {\r\n    const [userProfile, setProfile] = useState(null)\r\n\r\n    const { state, dispatch } = useContext(UserContext)\r\n    const { userid } = useParams()\r\n    const [showfollow, setShowFollow] = useState(true)\r\n    useEffect(() => {\r\n        fetch(`/user/${userid}`, {\r\n            headers: {\r\n                \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res => res.json())\r\n            .then(result => {\r\n                setProfile(result)\r\n                setShowFollow(state && !state.following.includes(userid))\r\n            })\r\n    }, state)\r\n    const followuser = () => {\r\n        fetch('/follow', {\r\n            method: \"put\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                followId: userid\r\n            })\r\n        }).then(res => res.json())\r\n            .then(data => {\r\n                console.log(data)\r\n                dispatch({ type: \"UPDATE\", payload: { following: data.following, followers: data.followers } })\r\n                localStorage.setItem(\"user\", JSON.stringify(data))\r\n                setProfile((prevState) => {\r\n                    return {\r\n                        ...prevState,\r\n                        user: {\r\n                            ...prevState.user,\r\n                            followers: [...prevState.user.followers,\r\n                            data._id]\r\n                        }\r\n                    }\r\n                })\r\n                setShowFollow(false)\r\n            })\r\n    }\r\n    const unfollowuser = () => {\r\n        fetch('/unfollow', {\r\n            method: \"put\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                unfollowId: userid\r\n            })\r\n        }).then(res => res.json())\r\n            .then(data => {\r\n                console.log(data)\r\n                dispatch({ type: \"UPDATE\", payload: { following: data.following, followers: data.followers } })\r\n                localStorage.setItem(\"user\", JSON.stringify(data))\r\n                \r\n                setProfile((prevState) => {\r\n                    const newFollower =prevState.user.followers.filter(item=>item!=data._id)\r\n                    return {\r\n                        ...prevState,\r\n                        user: {\r\n                            ...prevState.user,\r\n                            followers: newFollower\r\n                        }\r\n                    }\r\n                })\r\n                setShowFollow(true)\r\n            })\r\n    }\r\n    return (\r\n        <>\r\n            {userProfile ?\r\n\r\n                <div style={{ maxWidth: \"600px\", margin: \"0px auto\" }}>\r\n                    <div style={{\r\n                        display: \"flex\",\r\n                        justifyContent: \"space-around\",\r\n                        margin: \"18px 0px\",\r\n                        borderBottom: \"1px solid grey\"\r\n                    }}>\r\n                        <div>\r\n                            <img style={{ width: \"160px\", heigth: \"160px\", borderRadius: \"80px\" }}\r\n                                src={userProfile.user.pic}\r\n                                alt={userProfile._id}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <h4>{userProfile.user.name}</h4>\r\n                            <h5>{userProfile.user.email}</h5>\r\n\r\n                            <div style={{ display: \"flex\", justifyContent: \"space-between\", width: \"108%\" }}>\r\n                                <h6>{userProfile.posts.length} posts</h6>\r\n                                <h6>{userProfile.user.followers.length} followers</h6>\r\n                                <h6>{userProfile.user.following.length} following</h6>\r\n                            </div>\r\n                            {showfollow ? <button style={{margin:\"10px\"}} className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\r\n                                onClick={() => followuser()}>\r\n                                Follow\r\n                            </button> : <button style={{margin:\"10px\"}}  className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\r\n                                onClick={() => unfollowuser()}>\r\n                                UnFollow\r\n                            </button>}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"gallery\">\r\n\r\n                        {\r\n                            userProfile.posts.map(item => {\r\n                                return (\r\n                                    <img key={item._id} className=\"item\" src={item.photo} alt={item.title} />\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n                </div>\r\n\r\n                : <h2>loading...</h2>}\r\n        </>\r\n    )\r\n\r\n}\r\nexport default Profile","import React, { useState, useEffect, useContext } from 'react'\r\nimport { UserContext } from '../../App'\r\nimport {Link} from 'react-router-dom'\r\nconst SubscribeUserPosts = () => {\r\n\r\n    const [data, setData] = useState([])\r\n    const { state, dispatch } = useContext(UserContext)\r\n\r\n    useEffect(() => {\r\n        fetch('/getsubpost', {\r\n            headers: {\r\n                \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res => res.json())\r\n            .then(result => {\r\n                setData(result.posts)\r\n            })\r\n    }, [])\r\n    const likePost = (id) => {\r\n        fetch('/like', {\r\n            method: \"put\",\r\n            headers: {\r\n                \"Content-type\": \"application/json\",\r\n                \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                postId: id\r\n            })\r\n        }).then(res => res.json())\r\n            .then(result => {\r\n                const newData = data.map(item => {\r\n                    if (item._id == result._id) {\r\n                        return result\r\n                    } else {\r\n                        return item\r\n                    }\r\n                })\r\n                setData(newData)\r\n            }).catch(err => console.log(err))\r\n    }\r\n\r\n    const unlikePost = (id) => {\r\n        fetch('/unlike', {\r\n            method: \"put\",\r\n            headers: {\r\n                \"Content-type\": \"application/json\",\r\n                \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                postId: id\r\n            })\r\n        }).then(res => res.json())\r\n            .then(result => {\r\n                const newData = data.map(item => {\r\n                    if (item._id == result._id) {\r\n                        return result\r\n                    } else {\r\n                        return item\r\n                    }\r\n                })\r\n                setData(newData)\r\n            }).catch(err => console.log(err))\r\n    }\r\n    const makeComment = (text, postId) => {\r\n        fetch('/comment', {\r\n            method: \"put\",\r\n            headers: {\r\n                \"Content-type\": \"application/json\",\r\n                \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify(\r\n                {\r\n                    postId,\r\n                    text\r\n                }\r\n            )\r\n        }).then(res => res.json())\r\n            .then(result => {\r\n                const newData = data.map(item => {\r\n                    if (item._id == result._id) {\r\n                        return result\r\n                    } else {\r\n                        return item\r\n                    }\r\n                })\r\n                setData(newData)\r\n            }).catch(err => console.log(err))\r\n    }\r\n    const deletePost = (postid) => {\r\n        fetch(`/deletepost/${postid}`, {\r\n            method: \"delete\",\r\n            headers: {\r\n                Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res => res.json())\r\n            .then(result => {\r\n                const newData = data.filter(item => {\r\n                    return item._id !== result._id\r\n                })\r\n                setData(newData)\r\n            })\r\n    }\r\n\r\n    return (\r\n\r\n        <div className=\"home\">\r\n            {\r\n\r\n                data.map((item) => (\r\n                    <div className=\"card home-card\">\r\n                        <h5 style={{padding:\"5px\"}}><Link to={item.postedBy._id !== state._id?\"/profile/\"+item.postedBy._id:\"/profile/\"}>{item.postedBy.name}</Link> {item.postedBy._id == state._id &&\r\n                            <i className=\"material-icons\" style={{ float: \"right\" }}\r\n                                onClick={() => { deletePost(item._id) }}\r\n                            >delete</i>\r\n                        }</h5>\r\n                        <div className=\"card-image\">\r\n                            <img src={item.photo} alt={item.title} />\r\n                        </div>\r\n                        <div className=\"card-content\">\r\n                            <i className=\"material-icons\" style={{ color: \"red\" }}>favorite</i>\r\n                            {item.likes.includes(state._id)\r\n                                ? <i className=\"material-icons\"\r\n                                    onClick={() => { unlikePost(item._id) }}\r\n                                >thumb_down</i> :\r\n                                <i className=\"material-icons\"\r\n                                    onClick={() => { likePost(item._id) }}\r\n                                >thumb_up</i>\r\n\r\n                            }\r\n\r\n                            <h6>{item.likes.length} likes</h6>\r\n                            <h6>{item.title}</h6>\r\n                            <p>{item.body}</p>\r\n                            {\r\n                                item.comments.map(record => {\r\n                                    return (\r\n\r\n                                        <h6 key={record._id}><span style={{ fontWeight: \"500\" }}>{record.postedBy.name}</span> {record.text}</h6>\r\n\r\n\r\n\r\n                                    )\r\n                                })\r\n                            }\r\n                            <form onSubmit={(e) => {\r\n                                e.preventDefault()\r\n                                makeComment(e.target[0].value, item._id)\r\n                            }}>\r\n                                <input type=\"text\" placeholder=\"add a comment\" />\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n\r\n                ))\r\n            }\r\n        </div>\r\n    )\r\n}\r\nexport default SubscribeUserPosts","import './App.css';\nimport React, { useEffect, createContext, useReducer ,useContext } from 'react'\nimport NavBar from './components/NavBar'\nimport { BrowserRouter, Route, Switch, useHistory } from 'react-router-dom'\nimport Home from './components/Screens/Home'\nimport SignIn from './components/Screens/SignIn'\nimport Profile from './components/Screens/Profile'\nimport Signup from './components/Screens/Signup'\nimport CreatePost from './components/Screens/CreatePost'\nimport { reducer, initialState } from './reducer/userReducer'\nimport UserProfile from './components/Screens/UserProfile'\nimport SubscribeUserPosts from './components/Screens/SubscribeUserPosts'\nexport const UserContext = createContext()\n\nconst Routing = () => {\n  const history = useHistory()\n  const {state,dispatch} =useContext(UserContext)\n  useEffect(() => { \n    const user = JSON.parse(localStorage.getItem(\"user\"))\n\n    if (user) {\n      dispatch({type:\"USER\",payload:user})\n\n    } else {\n      history.push('/signin') \n    }\n  }, [])\n\n  return (\n    <Switch>\n      <Route exact path=\"/\">\n        <Home />\n      </Route>\n      <Route path=\"/signin\">\n        <SignIn />\n      </Route>\n      <Route path=\"/signup\">\n        <Signup />\n      </Route>\n      <Route exact path=\"/profile\">\n        <Profile />\n      </Route>\n      <Route path=\"/create\">\n        <CreatePost />\n      </Route>\n      <Route path=\"/profile/:userid\">\n        <UserProfile />\n      </Route>\n      <Route path=\"/myfollowingpost\">\n        <SubscribeUserPosts />\n      </Route>\n    </Switch>\n  )\n}\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initialState)\n  return (\n    <UserContext.Provider value={{ state, dispatch }}>\n      <BrowserRouter>\n        <NavBar />\n        <Routing />\n      </BrowserRouter>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}